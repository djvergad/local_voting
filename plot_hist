#!/usr/bin/gnuplot
#set term postscript enhanced color 
set term postscript eps enhanced color size 4,2.8 linewidth 2 font 'Helvetica,17pt'
#set terminal epslatex color

#set size 1,1
#set key spacing 1.5
#set boxwidth 0.85

set pointsize 1.5
set key spacing 1.5 maxrows 3 opaque width -5


set out "figures/simple_hist.eps"
set title "steady state - histgram - individual"
set boxwidth 0.05 absolute
set style fill solid 1.0 noborder
set xlabel "Queue length"
set ylabel "Points"
#set yrange [0:10000]
# set xrange [0.1:*]
# set yrange [0.001:*]
set logscale x
set logscale y

# set style histogram clustered
# set boxwidth 0.01

# plot 'hist_localvoting_scen2' using (rounded($1)):(1) smooth frequency t "Local Voting"

del="0.001"
plot "<awk -vd=".del." '$2==d&&$3==\"LocalVoting\"' total_hist" using 4:5 w l t "LocalVoting", \
     "<awk -vd=".del." '$2==d&&$3==\"LQF\"' total_hist" using 4:5 w l t "LQF", \
     "<awk -vd=".del." '$2==d&&$3==\"DRAND\"' total_hist" using 4:5 w l t "Lobats", \
     "<awk -vd=".del." '$2==d&&$3==\"Lobats\"' total_hist" using 4:5 w l t "Lobats", \
     "<awk -vd=".del." '$2==d&&$3==\"Lyui\"' total_hist" using 4:5 w l t "Lyui"

#plot "<awk '/Dumping Slots:/{p=0}p{print $1,$2};/Dumping Queue:/{p=1}' output_hist_100_10_100_10_0.0001_LocalVoting_0.0_1_true"  using (rounded($1)):(val($2,$1)) smooth frequency t "Local Voting" w l, \
#    "<awk '/Dumping Queue:/,/Dumping Slots:/' output_hist_100_10_100_10_0.0001_LQF_0.0_1_true" using (rounded($1)):(val($2,$1)) ti 'LQF' smooth freq w l, \
#    "<awk '/Dumping Queue:/,/Dumping Slots:/' output_hist_100_10_100_10_0.0001_DRAND_0.0_1_true" using (rounded($1)):(val($2,$1)) ti 'DRAND' smooth freq w l
     



# set out "figures/avg.eps"
# set title "steady state - histgram - average over time"
# bin_width = 0.01;
# set ylabel "Nodes"
# set yrange [*:*]
# set xrange [0:0.7]
# plot 'single_dump_simple_avg' using (rounded($1)):(1) smooth frequency t "simple", \
#      'single_dump_balanced_avg' using (rounded($1)):(1) smooth frequency t "balanced", \
#      'single_dump_localVoting_avg' using (rounded($1)):(1) smooth frequency t "Local Voting"

